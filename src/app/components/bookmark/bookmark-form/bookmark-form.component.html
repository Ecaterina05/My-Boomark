<div id="bookmarkForm">
  <mat-card appearance="outlined" class="bookmark-card">
    <mat-card-header>
      <mat-card-title>
        {{ bookmarkId ? 'Edit your bookmark' : 'Add your bookmark' }}
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form">
        <div class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Book Title</mat-label>
            <input matInput formControlName="title" />
            <mat-error *ngIf="form.get('title')?.hasError('required')">
              Book Title is required
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" class="col">
            <mat-label>Author</mat-label>
            <input matInput formControlName="author" />
            <mat-error *ngIf="form.get('author')?.hasError('required')">
              Author is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Genre</mat-label>
            <mat-select formControlName="genre">
              <mat-option *ngFor="let g of bookGenres" [value]="g">
                {{ g.display }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('genre')?.hasError('required')">
              Genre is required
            </mat-error>
          </mat-form-field>
          <div class="col" style="padding-left: 3rem;">
            <p class="text-class">My rating:
            <button
              type="button"
              mat-icon-button
              *ngFor="let star of [1,2,3,4,5]"
              (click)="setRating(star)">
              <mat-icon>
                {{ star <= (hoverRating || rating) ? 'star' : 'star_border' }} </mat-icon>
            </button>
            </p>
          </div>
        </div>

        <div class="row">
          <mat-form-field appearance="outline" class="col">
            <mat-label>Notes</mat-label>
            <textarea matInput rows="5" formControlName="notes">
            </textarea>
          </mat-form-field>
        </div>
      </form>
    </mat-card-content>

    <mat-card-actions align="end">
      <button matButton="elevated" type="button" (click)="onCancel()">Cancel</button>
      <button matButton="elevated" type="submit" (click)="onSave()">Save</button>
    </mat-card-actions>
  </mat-card>
</div>
